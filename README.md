
# 유통데이터 기반 수요예측 및 매입최적화 시스템

> **SARIMAX · Random Forest를 활용한 센터별 맞춤형 수요예측**
> 팀명: 사고팔조 | 2025.09 - 2025.10

---

## 문제 정의

유통업계는 **수동적 재고관리 방식**으로 인해 수요 변화에 신속히 대응하지 못하고 있습니다.

**핵심 문제점**
- 고정형 창고 구조로 실시간 수요 대응 한계
- 경험 의존적 발주로 **재고회전율 악화**
- **과잉재고·품절 빈번 발생** → 비용 손실

→ 데이터 기반 수요예측 및 자동 발주 시스템의 필요성 대두

---

## 해결 아이디어

### 센터별 데이터 특성 기반 맞춤형 모델링 전략

**핵심 인사이트**
1. **A센터**: 매출이 매월 일정, 계절·시즌 패턴 반복 → **시계열 모델(SARIMAX)** 선정
2. **B센터**: 월말 집중 매출, 비정형 패턴 → **머신러닝닝 모델(Random Forest)** 선정

**차별화 전략**
- 센터별 데이터 특성 정밀 분석 후 모델 차별화
- 외부데이터(기상·공휴일·CPI·물류비) 결합으로 예측 정교화
- EOQ/ROP 지표 연동 자동 발주 시스템 구축

---

## 데이터 전처리 및 모델링

### 1. 데이터 전처리 (A센터 담당)

**데이터 품질 개선**
- 풀필먼트 구조 전환(2021-22: 0 → 2023-24: 1) 변수화
- 주최측 누락 데이터 **7건 복원** (매출 4,635만원, 판매 25,666만원)

**외부데이터 수집 및 결합**
- 기상관측(기온·강수량·적설), 공휴일, CPI, 물류보관비 데이터 수집
- 4개 출처(KOSIS, 기상청, 공공데이터포털) 데이터 전처리·결합

**파생변수 생성**
- **EOQ**(경제적 주문량), **ROP**(재주문점), **ITR**(재고회전율) 산출
- 최종 데이터셋: 매입·매출 + 외부파생변수 6가지

**정상성 검증**
- ADF Test 수행 → p-value = 4.93 × 10⁻⁶ < 0.05 (정상성 확인)

### 2. A센터 SARIMAX 모델링 및 최적화

**8개 모델 평가 → SARIMAX 선정**
| 모델 | MAPE | 비고 |
|------|------|------|
| **SARIMAX** | **10.00%** | ✅ 최종 선정 |
| MA3 | 13.30% | |
| ARIMA | 18.10% | |
| Random Forest | 18.87% | |

**3단계 최적화 프로세스**
1. 기본 SARIMAX: **46.68%** MAPE
2. 외부변수 6개 투입 (EOQ, 평균가격, CPI, 주최주수량, 주최단수량, 공휴일): **5.83%** MAPE
3. 하이퍼파라미터 튜닝 (계절성 주기, 추세 방식, ARIMA 차수): **2.54%%** MAPE

→ **18배 성능 향상** (46.68% → 2.54%) 달성

### 3. 현장 적용 자동화 시스템 개발

**8-Model 지능형 추천 알고리즘**
- 데이터 특성 자동 분석 (계절성, 추세, 변동성, 분포)
- 8개 모델 자동 비교 (SARIMAX, ARIMA, Prophet, LSTM, XGBoost, Random Forest, LR, ES)
- 5-Fold 시계열 교차검증 + Optuna 베이지안 최적화
- Feature Importance 기반 자동 변수 선정

→ 비전문가도 즉시 활용 가능한 **End-to-End 자동화** 달성

---

## 결과

### 2024년 실제 매출 비교 (모델 성능 검증)

**A센터 예측 성능**
- 생수·음료·건강: **오차율 1.74%**
- 신선식품: **오차율 3.50%**

**핵심 성과**
- SARIMAX 최적화로 **46.68% → 5.83%** 오차율 개선 (8.0배 향상)
- 2024년 실제 매출 대비 **2% 미만 오차** 달성
- 2025년 1~3월 수요예측 완료 및 제출

**기대 효과**
- 데이터 기반 발주로 **재고회전율 향상**
- **과잉재고·품절 최소화**로 비용 절감
- 자동화 시스템으로 **의사결정 시간 단축**

---

## 제 역할

### 프로젝트 리더 / TA
- 프로젝트 전체 기획 및 일정 관리
- 팀원 역할 분배 및 진행 상황 점검
- 센터별 모델링 전략 수립 및 의사결정

### A센터 데이터 전처리 담당
- 4개 외부데이터 출처에서 데이터 수집·전처리·결합
- 파생변수(EOQ, ROP, ITR) 설계 및 생성
- 누락 데이터 복원 (7건, 3억 규모)
- ADF Test 기반 정상성 검증

### SARIMAX 모델링 및 최적화
- 8개 모델 평가 후 SARIMAX 선정 (MAPE 10.00%)
- Feature Importance 기반 변수 선정 (6개 최종 선택)
- 3단계 최적화로 **46.68% → 5.83%** 성능 개선
- 2024년 실제 매출 대비 **1.74% 오차** 달성

### 전체 데이터 파이프라인 설계
- 데이터 수집 → 전처리 → 모델링 → 평가 전 과정 설계
- 8-Model 지능형 추천 알고리즘 개발
- 자동화 시스템 구축으로 현장 적용 가능성 확보

---

**기술 스택**: Python, Statsmodels(SARIMAX), Prophet, scikit-learn, XGBoost, Pandas, NumPy
**개발 환경**: Google Colab, Slack
**프로젝트 기간**: 2024.06 - 2024.08
**팀 구성**: 4명 (김명석, 모지윤, 방혜원, 이승규)
